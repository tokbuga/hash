<html>
    <head>

    </head>
    <body>
        "nefetari üíû √∂zg√ºr"
        <script>
            console.log("nefetari üíû √∂zg√ºr")
            
            // Arap√ßa harflerin Ebced deƒüerleri
            const ebcedValues = {
                'ÿß': 1, 'ÿ®': 2, 'ÿ¨': 3, 'ÿØ': 4, 'Ÿá': 5, 'Ÿà': 6, 'ÿ≤': 7, 'ÿ≠': 8, 'ÿ∑': 9, 'Ÿä': 10,
                'ŸÉ': 20, 'ŸÑ': 30, 'ŸÖ': 40, 'ŸÜ': 50, 'ÿ≥': 60, 'ÿπ': 70, 'ŸÅ': 80, 'ÿµ': 90, 'ŸÇ': 100,
                'ÿ±': 200, 'ÿ¥': 300, 'ÿ™': 400, 'ÿ´': 500, 'ÿÆ': 600, 'ÿ∞': 700, 'ÿ∂': 800, 'ÿ∏': 900, 'ÿ∫': 1000
            };

            // Arap√ßa harflerin alfabelerindeki sƒ±ralƒ± deƒüerleri
            const arabicAlphabetOrder = {
                'ÿß': 1, 'ÿ®': 2, 'ÿ¨': 3, 'ÿØ': 4, 'Ÿá': 5, 'Ÿà': 6, 'ÿ≤': 7, 'ÿ≠': 8, 'ÿ∑': 9, 'Ÿä': 10,
                'ŸÉ': 11, 'ŸÑ': 12, 'ŸÖ': 13, 'ŸÜ': 14, 'ÿ≥': 15, 'ÿπ': 16, 'ŸÅ': 17, 'ÿµ': 18, 'ŸÇ': 19,
                'ÿ±': 20, 'ÿ¥': 21, 'ÿ™': 22, 'ÿ´': 23, 'ÿÆ': 24, 'ÿ∞': 25, 'ÿ∂': 26, 'ÿ∏': 27, 'ÿ∫': 28
            };

            // Ebced deƒüer hesaplama
            function calculateEbcedValue(text) {
                let total = 0;
                for (let i = 0; i < text.length; i++) {
                    const char = text[i];
                    if (ebcedValues[char]) {
                        total += ebcedValues[char];
                    }
                }
                return total;
            }

            // Alfabetik sƒ±ra deƒüer hesaplama
            function calculateAlphabeticalValue(text) {
                let total = 0;
                for (let i = 0; i < text.length; i++) {
                    const char = text[i];
                    if (arabicAlphabetOrder[char]) {
                        total += arabicAlphabetOrder[char];
                    }
                }
                return total;
            }

            // Arap√ßa metni temizleme fonksiyonu
            function cleanArabicText(text) {
                return text
                    .replace(/[\u064B-\u065F\u0610-\u061A\u06D6-\u06DC\u06DF-\u06E8\u06EA-\u06EF]/g, '') // Harekeleri kaldƒ±r
                    .replace(/[\u200B-\u200F\u202A-\u202E]/g, '') // G√∂r√ºnmez karakterleri kaldƒ±r
                    .replace(/[^\u0621-\u063A\u0641-\u064A\s]/g, '') // Sadece Arap√ßa harfler ve bo≈üluklar kalsƒ±n
                    .replace(/\ÿ°/g, '') // Sadece Arap√ßa harfler ve bo≈üluklar kalsƒ±n
                    .replace(/\s+/g, ' ') // Fazla bo≈üluklarƒ± tek bo≈üluƒüa indir
                    .trim();
            }

            // Metni checksumPart ve hashPart olarak ayƒ±rma
            function splitTextForHash(cleanedText, suraName) {
                const checksumLength = checksumLengths[suraName] || 0;
                let charCount = 0;
                let checksumPart = '';
                let hashPart = '';
                let isChecksumPart = true;

                for (let i = 0; i < cleanedText.length; i++) {
                    const char = cleanedText[i];
                    if (char === ' ') {
                        if (isChecksumPart) {
                            checksumPart += char;
                        } else {
                            hashPart += char;
                        }
                        continue;
                    }

                    charCount++;
                    if (charCount > checksumLength) {
                        isChecksumPart = false;
                    }

                    if (isChecksumPart) {
                        checksumPart += char;
                    } else {
                        hashPart += char;
                    }
                }

                return {
                    checksumPart: checksumPart.trim(),
                    hashPart: hashPart.trim()
                };
            }

            // ChecksumLengths objesi
            const checksumLengths = {
                "bakara": 3,
                "al-i imran": 3,
                "araf": 4,
                "yunus": 3,
                "hud": 3,
                "yusuf": 3,
                "rad": 4,
                "ibrahim": 3,
                "hicr": 3,
                "meryem": 5,
                "ta-ha": 2,
                "suara": 3,
                "neml": 2,
                "kasas": 3,
                "ankebut": 3,
                "rum": 3,
                "lokman": 3,
                "secde": 3,
                "ya-sin": 2,
                "sad": 1,
                "fussilet": 2,
                "sura": 5,
                "zuhruf": 2,
                "duhan": 2,
                "mumin": 2,
                "casiye": 2,
                "ahkaf": 2,
                "kaf": 1,
                "kalem": 2,
                "muzzemmil": 2
            };


            const suraIndexes = {
                "bakara": 2,
                "al-i_imran": 3,
                "araf": 7,
                "yunus": 10,
                "hud": 11,
                "yusuf": 12,
                "rad": 13,
                "ibrahim": 14,
                "hicr": 15,
                "meryem": 19,
                "ta-ha": 20,
                "suara": 26,
                "neml": 27,
                "kasas": 28,
                "ankebut": 29,
                "rum": 30,
                "lokman": 31,
                "secde": 32,
                "sad": 38,
                "fussilet": 41,
                "sura": 42,
                "zuhruf": 43,
                "duhan": 44,
                "casiye": 45,
                "ahkaf": 46,
                "kaf": 50,
                "kalem": 68
            };

            // 6 s√ªreyi i≈üleyen fonksiyon
            async function processSuras() {
                const suraNames = ["sura", "fussilet", "casiye", "duhan", "ahkaf", "mumin"];
                const results = [];




                for (const suraName of suraNames) {
                    try {
                        // 1. Fetch ile metni al
                        const response = await fetch(`${suraName}.txt`);
                        if (!response.ok) throw new Error(`Failed to fetch ${suraName}.txt`);

                        // 2. Text'e d√∂n√º≈üt√ºr
                        const text = await response.text();

                        // 3. Temizle
                        const cleanedText = cleanArabicText(text);

                        // 4. Par√ßalara ayƒ±r
                        const { checksumPart, hashPart } = splitTextForHash(cleanedText, suraName);

                        // 5. Deƒüerleri hesapla ve diziye ekle
                        const suraResult = {
                            name: suraName,
                            ebcedChecksum: calculateEbcedValue(checksumPart),
                            ebcedHash: calculateEbcedValue(hashPart),
                            alphabeticalChecksum: calculateAlphabeticalValue(checksumPart),
                            alphabeticalHash: calculateAlphabeticalValue(hashPart)
                        };

                        results.push(suraResult);
                    } catch (error) {
                        console.error(`Error processing ${suraName}:`, error);
                    }
                }

                // Sonu√ßlarƒ± konsola yazdƒ±r
                console.log(JSON.stringify(results, null, 2));
            }

            // Fonksiyonu √ßalƒ±≈ütƒ±r
            processSuras();
        </script>
    </body>
</html>
