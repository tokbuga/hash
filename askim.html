<html>
    <head>

    </head>
    <body>
        "nefetari ğŸ’ Ã¶zgÃ¼r"
        <script>
            console.log("nefetari ğŸ’ Ã¶zgÃ¼r")

            // Ebced deÄŸerleri iÃ§in bir harita
            const ebcedMap = {
                'Ø§': 1, 'Ø¨': 2, 'Ø¬': 3, 'Ø¯': 4, 'Ù‡': 5, 'Ùˆ': 6, 'Ø²': 7, 'Ø­': 8, 'Ø·': 9,
                'ÙŠ': 10, 'Ùƒ': 20, 'Ù„': 30, 'Ù…': 40, 'Ù†': 50, 'Ø³': 60, 'Ø¹': 70, 'Ù': 80, 'Øµ': 90,
                'Ù‚': 100, 'Ø±': 200, 'Ø´': 300, 'Øª': 400, 'Ø«': 500, 'Ø®': 600, 'Ø°': 700, 'Ø¶': 800,
                'Ø¸': 900, 'Øº': 1000
            };

            // Metni (harf veya kelime) Ebced deÄŸerine dÃ¶nÃ¼ÅŸtÃ¼ren fonksiyon
            function calculateEbcedValue(text) {
                let total = 0;
                
                // Metni harf harf dÃ¶ngÃ¼yle iÅŸle
                for (let i = 0; i < text.length; i++) {
                    const char = text[i];
                    // Harf Ebced haritasÄ±na varsa deÄŸerini al, yoksa 0
                    const value = ebcedMap[char] || 0;
                    total += value;
                }
                
                return total;
            }

            // ArapÃ§a metni temizleyen fonksiyon
            function cleanArabicText(text) {
                // Harekeleri ve sembolleri tanÄ±mlayan bir regex
                // \u064B-\u065F: Harekeler (fetha, damme, kesra, vb.)
                // \u06DD: Û (rubu' iÅŸareti)
                // \u06DE-\u06FF: DiÄŸer gereksiz semboller
                const unwantedChars = /[\u064B-\u065F\u06DD\u06DE-\u06FF]/g;
                
                // Harekeleri ve sembolleri kaldÄ±r
                let cleanedText = text.replace(unwantedChars, '');
                
                // Gereksiz boÅŸluklarÄ± temizle, ama kelimeler arasÄ±ndaki boÅŸluklarÄ± koru
                cleanedText = cleanedText.replace(/\s+/g, ' ').trim();
                
                return cleanedText;
            }

            fetch("sura-01.txt").then(r => r.text()).then(rawText => {
                // Test: Åura Suresiâ€™nin ilk birkaÃ§ ayeti
                console.log(rawText)
                const cleanedText = cleanArabicText(rawText);
                
                console.log("TemizlenmiÅŸ Metin:", cleanedText);
            })


            // Test: Åura Suresiâ€™nin ilk 10 ayetinin ilk kelimeleri
            const words = [
                "Ø¹Ø³Ù‚", // 230
                "ÙƒÙØ°ÙÙ°Ù„ÙÙƒÙ", // 771
                "Ù„ÙÙ‡Ù", // 36
                "Ù…ÙØ§", // 41
                "ÙˆÙÙ…ÙØ§", // 47
                "Ù„ÙÙŠÙ’Ø³Ù", // 101
                "ÙƒÙÙ…ÙØ«Ù’Ù„ÙÙ‡Ù", // 121
                "ÙˆÙÙ‡ÙÙˆÙ", // 12
                "Ù±Ù„Ù‘ÙØ°ÙÙ‰", // 741
                "ÙŠÙØ¹Ù’Ù„ÙÙ…Ù" // 121
            ];

            // Her kelimeyi dÃ¶ngÃ¼yle iÅŸle ve Ebced deÄŸerlerini hesapla
            const ebcedValues = words.map(word => calculateEbcedValue(word));
            console.log("Ebced DeÄŸerleri:", ebcedValues);

            // AÄŸÄ±rlÄ±klandÄ±rma: Her kelimeyi ayet sÄ±rasÄ±na gÃ¶re Ã§arp
            let weightedSum = 0;
            for (let i = 0; i < ebcedValues.length; i++) {
                weightedSum += ebcedValues[i] * (i + 1);
            }
            console.log("AÄŸÄ±rlÄ±klandÄ±rÄ±lmÄ±ÅŸ Toplam:", weightedSum);

            // Hedef deÄŸer: 278
            const target = 278;
            const result = weightedSum % target;
            console.log("SonuÃ§ (mod 278):", result);

            // KatsayÄ± ile dÃ¶nÃ¼ÅŸÃ¼m
            const coefficient = 0.0238; // Daha Ã¶nce denediÄŸimiz katsayÄ±
            const adjustedResult = weightedSum * coefficient;
            console.log("DÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmÃ¼ÅŸ SonuÃ§:", adjustedResult);
        </script>
    </body>
</html>
